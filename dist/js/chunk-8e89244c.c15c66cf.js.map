{"version":3,"sources":["webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?3369","webpack:///./src/views/register/Register.vue?b98a","webpack:///./src/assets/user.png","webpack:///./src/api/user.js"],"names":["class","src","user","state","userName","placeholder","userPassword","autocomplete","type","confirmPassword","handleRegister","handleLoginClick","appContext","$toast","config","globalProperties","router","show","then","res","dataCode","data","token","push","name","dataResult","catch","error","setup","__exports__","render","module","exports","login","service","url","method","params","register"],"mappings":"qKACOA,MAAM,W,aAEJA,MAAM,iB,GAGNA,MAAM,iB,GAGNA,MAAM,iB,gDARb,eAaM,MAbN,EAaM,CAZJ,eAAmB,OAAbC,IAAK,EAAAC,MAAI,UACf,eAEM,MAFN,EAEM,C,eADJ,eAAqF,S,qDAArE,EAAAC,MAAMC,SAAQ,IAAEC,YAAY,SAASL,MAAM,yB,mBAA3C,EAAAG,MAAMC,cAExB,eAEM,MAFN,EAEM,C,eADJ,eAAoI,S,qDAApH,EAAAD,MAAMG,aAAY,IAAEC,aAAa,eAAeC,KAAK,WAAWH,YAAY,QAAQL,MAAM,yB,mBAA1F,EAAAG,MAAMG,kBAExB,eAEM,MAFN,EAEM,C,eADJ,eAAsI,S,qDAAtH,EAAAH,MAAMM,gBAAe,IAAEF,aAAa,eAAeC,KAAK,WAAWH,YAAY,OAAOL,MAAM,yB,mBAA5F,EAAAG,MAAMM,qBAExB,eAAqE,OAAhET,MAAM,0BAA2B,QAAK,8BAAE,EAAAU,gBAAA,EAAAA,eAAA,sBAAgB,MAC7D,eAA0E,OAArEV,MAAM,wBAAyB,QAAK,8BAAE,EAAAW,kBAAA,EAAAA,iBAAA,sBAAkB,a,6DAW3D,EAAoB,SAACC,GACzB,IAAMC,EAASD,EAAWE,OAAOC,iBAAiBF,OAC5CG,EAAS,iBACTb,EAAQ,eAAS,CACrBC,SAAU,GACVE,aAAc,GACdG,gBAAiB,KAEbC,EAAiB,WACrB,GAAIP,EAAMG,eAAiBH,EAAMM,gBAE/B,OADAI,EAAOI,KAAK,cACL,EAELd,EAAMC,UAAYD,EAAMG,aAC1B,eAASH,GACNe,MAAK,SAACC,GACgB,SAAjBA,EAAIC,UACN,eAASD,EAAIE,KAAKC,OAClBN,EAAOO,KAAK,CAAEC,KAAM,UAEpBX,EAAOI,KAAKE,EAAIM,eAGnBC,OAAM,SAACC,GACNd,EAAOI,KAAK,WAGhBJ,EAAOI,KAAK,aAIhB,MAAO,CAAEd,QAAOO,mBAEH,GACbc,KAAM,WACNI,MAFa,WAGX,IAAMZ,EAAS,iBACf,EAAuB,iBAAfJ,EAAR,EAAQA,WACR,EAAkC,EAAkBA,GAA5CT,EAAR,EAAQA,MAAOO,EAAf,EAAeA,eAETC,EAAmB,WACvBK,EAAOO,KAAK,CAAEC,KAAM,WAEtB,MAAO,CAAErB,QAAOD,KAAA,IAAMQ,iBAAgBC,sB,iCC5D1C,MAAMkB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W,qBCAAC,EAAOC,QAAU,IAA0B,yB,kCCA3C,oFAEO,SAASC,EAAMZ,GACpB,OAAOa,eAAQ,CACbC,IAAK,mBACLC,OAAQ,MACRC,OAAQhB,IAIL,SAASiB,EAASjB,GACvB,OAAOa,eAAQ,CACbC,IAAK,sBACLC,OAAQ,MACRC,OAAQhB","file":"js/chunk-8e89244c.c15c66cf.js","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img :src=\"user\" />\n    <div class=\"wrapper_input\">\n      <input v-model=\"state.userName\" placeholder=\"请输入手机号\" class=\"wrapper_input_content\" />\n    </div>\n    <div class=\"wrapper_input\">\n      <input v-model=\"state.userPassword\" autocomplete=\"new-password\" type=\"password\" placeholder=\"请输入密码\" class=\"wrapper_input_content\" />\n    </div>\n    <div class=\"wrapper_input\">\n      <input v-model=\"state.confirmPassword\" autocomplete=\"new-password\" type=\"password\" placeholder=\"确认密码\" class=\"wrapper_input_content\" />\n    </div>\n    <div class=\"wrapper_register_button\" @click=\"handleRegister\">注册</div>\n    <div class=\"wrapper_register_link\" @click=\"handleLoginClick\">已有账号去登录</div>\n  </div>\n</template>\n<script>\nimport { reactive, getCurrentInstance } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { register } from \"@/api/user\";\nimport { setToken } from \"../../core/auth\";\nimport user from \"@/assets/user.png\";\n\n// 注册\nconst useRegisterEffect = (appContext) => {\n  const $toast = appContext.config.globalProperties.$toast;\n  const router = useRouter();\n  const state = reactive({\n    userName: \"\",\n    userPassword: \"\",\n    confirmPassword: \"\",\n  });\n  const handleRegister = () => {\n    if (state.userPassword !== state.confirmPassword) {\n      $toast.show(\"两次输入密码不一致\");\n      return false;\n    }\n    if (state.userName && state.userPassword) {\n      register(state)\n        .then((res) => {\n          if (res.dataCode === \"0000\") {\n            setToken(res.data.token);\n            router.push({ name: \"Home\" });\n          } else {\n            $toast.show(res.dataResult);\n          }\n        })\n        .catch((error) => {\n          $toast.show(\"注册失败\");\n        });\n    } else {\n      $toast.show(\"请输入用户名密码\");\n    }\n  };\n\n  return { state, handleRegister };\n};\nexport default {\n  name: \"Register\",\n  setup() {\n    const router = useRouter();\n    const { appContext } = getCurrentInstance();\n    const { state, handleRegister } = useRegisterEffect(appContext);\n\n    const handleLoginClick = () => {\n      router.push({ name: \"Login\" });\n    };\n    return { state, user, handleRegister, handleLoginClick };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/style/variable\";\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  img {\n    display: block;\n    width: 0.66rem;\n    height: 0.66rem;\n    margin: 0 auto 0.4rem auto;\n  }\n  .wrapper_input {\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    input {\n      width: 100%;\n      line-height: 0.22rem;\n      margin-top: 0.12rem;\n      background: transparent;\n      border: none;\n      padding: 0 0.16rem;\n      box-sizing: border-box;\n      outline: none;\n      font-size: 0.16rem;\n      color: $content-notice-fontcolor;\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n  .wrapper_register_button {\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    color: #fff;\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\n    font-size: 0.16rem;\n    line-height: 0.48rem;\n    text-align: center;\n  }\n  .wrapper_register_link {\n    font-size: 0.14rem;\n    text-align: center;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=91c2f4b8&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=91c2f4b8&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\smallwork\\\\vue3ofjingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-91c2f4b8\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=91c2f4b8&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/user.f605787e.png\";","import service from \"@/core/request\";\n\nexport function login(data) {\n  return service({\n    url: \"/user/login.json\",\n    method: \"get\",\n    params: data,\n  });\n}\n\nexport function register(data) {\n  return service({\n    url: \"/user/register.json\",\n    method: \"get\",\n    params: data,\n  });\n}\n"],"sourceRoot":""}