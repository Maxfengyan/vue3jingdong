{"version":3,"sources":["webpack:///./src/views/login/Login.vue?a088","webpack:///./src/assets/user.png","webpack:///./src/api/user.js","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?9c35"],"names":["module","exports","login","data","service","url","method","params","register","class","src","user","state","userName","autocomplete","type","placeholder","userPassword","handleLogin","handleRegisterClick","appContext","$toast","config","globalProperties","router","then","res","dataCode","token","push","name","show","dataResult","catch","error","setup","__exports__","render"],"mappings":"kHAAA,W,qBCAAA,EAAOC,QAAU,IAA0B,yB,kCCA3C,oFAEO,SAASC,EAAMC,GACpB,OAAOC,eAAQ,CACbC,IAAK,mBACLC,OAAQ,MACRC,OAAQJ,IAIL,SAASK,EAASL,GACvB,OAAOC,eAAQ,CACbC,IAAK,sBACLC,OAAQ,MACRC,OAAQJ,M,4DCbLM,MAAM,W,aAEJA,MAAM,iB,GAGNA,MAAM,iB,gDALb,eAUM,MAVN,EAUM,CATJ,eAAmB,OAAbC,IAAK,EAAAC,MAAI,UACf,eAEM,MAFN,EAEM,C,eADJ,eAAoH,S,qDAApG,EAAAC,MAAMC,SAAQ,IAAEC,aAAa,MAAMC,KAAK,OAAOC,YAAY,SAASP,MAAM,yB,mBAA1E,EAAAG,MAAMC,cAExB,eAEM,MAFN,EAEM,C,eADJ,eAAoI,S,qDAApH,EAAAD,MAAMK,aAAY,IAAEH,aAAa,eAAeC,KAAK,WAAWC,YAAY,QAAQP,MAAM,yB,mBAA1F,EAAAG,MAAMK,kBAExB,eAA+D,OAA1DR,MAAM,uBAAwB,QAAK,8BAAE,EAAAS,aAAA,EAAAA,YAAA,sBAAa,MACvD,eAAuE,OAAlET,MAAM,qBAAsB,QAAK,8BAAE,EAAAU,qBAAA,EAAAA,oBAAA,sBAAqB,U,6DAW3D,EAAiB,SAACC,GACtB,IAAMC,EAASD,EAAWE,OAAOC,iBAAiBF,OAC5CG,EAAS,iBACTZ,EAAQ,eAAS,CACrBC,SAAU,GACVI,aAAc,KAEVC,EAAc,WACdN,EAAMC,UAAYD,EAAMK,aAC1B,eAAML,GACHa,MAAK,SAACC,GACgB,SAAjBA,EAAIC,UACN,eAASD,EAAIvB,KAAKyB,OAClBJ,EAAOK,KAAK,CAAEC,KAAM,UAEpBT,EAAOU,KAAKL,EAAIM,eAGnBC,OAAM,SAACC,GACNb,EAAOU,KAAK,WAGhBV,EAAOU,KAAK,aAIhB,MAAO,CAAEnB,QAAOM,gBAGH,GACbY,KAAM,QACNK,MAFa,WAGX,IAAMX,EAAS,iBACf,EAAuB,iBAAfJ,EAAR,EAAQA,WACR,EAA+B,EAAeA,GAAtCR,EAAR,EAAQA,MAAOM,EAAf,EAAeA,YAETC,EAAsB,WAC1BK,EAAOK,KAAK,CAAEC,KAAM,cAEtB,MAAO,CAAEnB,KAAA,IAAMC,QAAOM,cAAaC,yB,iCCrDvC,MAAMiB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-148167a1.7fe63dac.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=5268a8eb&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/user.f605787e.png\";","import service from \"@/core/request\";\n\nexport function login(data) {\n  return service({\n    url: \"/user/login.json\",\n    method: \"get\",\n    params: data,\n  });\n}\n\nexport function register(data) {\n  return service({\n    url: \"/user/register.json\",\n    method: \"get\",\n    params: data,\n  });\n}\n","<template>\n  <div class=\"wrapper\">\n    <img :src=\"user\" />\n    <div class=\"wrapper_input\">\n      <input v-model=\"state.userName\" autocomplete=\"off\" type=\"text\" placeholder=\"请输入手机号\" class=\"wrapper_input_content\" />\n    </div>\n    <div class=\"wrapper_input\">\n      <input v-model=\"state.userPassword\" autocomplete=\"new-password\" type=\"password\" placeholder=\"请输入密码\" class=\"wrapper_input_content\" />\n    </div>\n    <div class=\"wrapper_login_button\" @click=\"handleLogin\">登录</div>\n    <div class=\"wrapper_login_link\" @click=\"handleRegisterClick\">立即注册</div>\n  </div>\n</template>\n<script>\nimport { reactive, getCurrentInstance } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { setToken } from \"../../core/auth\";\nimport { login } from \"@/api/user\";\nimport user from \"@/assets/user.png\";\n\n// 登录\nconst useLoginEffect = (appContext) => {\n  const $toast = appContext.config.globalProperties.$toast;\n  const router = useRouter();\n  const state = reactive({\n    userName: \"\",\n    userPassword: \"\",\n  });\n  const handleLogin = () => {\n    if (state.userName && state.userPassword) {\n      login(state)\n        .then((res) => {\n          if (res.dataCode === \"0000\") {\n            setToken(res.data.token);\n            router.push({ name: \"Home\" });\n          } else {\n            $toast.show(res.dataResult);\n          }\n        })\n        .catch((error) => {\n          $toast.show(\"登录失败\");\n        });\n    } else {\n      $toast.show(\"请输入用户名密码\");\n    }\n  };\n\n  return { state, handleLogin };\n};\n\nexport default {\n  name: \"Login\",\n  setup() {\n    const router = useRouter();\n    const { appContext } = getCurrentInstance();\n    const { state, handleLogin } = useLoginEffect(appContext);\n    // 跳转注册\n    const handleRegisterClick = () => {\n      router.push({ name: \"Register\" });\n    };\n    return { user, state, handleLogin, handleRegisterClick };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/style/variable\";\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  img {\n    display: block;\n    width: 0.66rem;\n    height: 0.66rem;\n    margin: 0 auto 0.4rem auto;\n  }\n  .wrapper_input {\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    input {\n      width: 100%;\n      line-height: 0.22rem;\n      margin-top: 0.12rem;\n      background: transparent;\n      border: none;\n      padding: 0 0.16rem;\n      box-sizing: border-box;\n      outline: none;\n      font-size: 0.16rem;\n      color: $content-notice-fontcolor;\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n  .wrapper_login_button {\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    color: #fff;\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\n    font-size: 0.16rem;\n    line-height: 0.48rem;\n    text-align: center;\n  }\n  .wrapper_login_link {\n    font-size: 0.14rem;\n    text-align: center;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=5268a8eb&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5268a8eb&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\smallwork\\\\vue3ofjingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5268a8eb\"]])\n\nexport default __exports__"],"sourceRoot":""}